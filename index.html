<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-07-12 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>speedtools &#x2013; SpeedTools Java Library</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                SpeedTools
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-07-12</span>
                  &nbsp;| <span id="projectVersion">Version: 3.2.3</span>
                      </div>
            <div class="xright">      
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>SpeedTools Project</h5>
                  <ul>
                  <li class="none">
            <strong>Home</strong>
          </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="API Documentation">API Documentation</a>
            </li>
                  <li class="none">
                          <a href="ReleaseNotes.html" title="Release Notes">Release Notes</a>
            </li>
                  <li class="none">
                          <a href="Properties.html" title="Property Files">Property Files</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                    <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
                          <a href="dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a>
            </li>
                      <li class="none">
                          <a href="dependency-info.html" title="Dependency Information">Dependency Information</a>
            </li>
                      <li class="none">
                          <a href="dependency-management.html" title="Dependency Management">Dependency Management</a>
            </li>
                      <li class="none">
                          <a href="distribution-management.html" title="Distribution Management">Distribution Management</a>
            </li>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="license.html" title="Licenses">Licenses</a>
            </li>
                      <li class="none">
                          <a href="modules.html" title="Project Modules">Project Modules</a>
            </li>
                      <li class="none">
                          <a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
            </li>
                      <li class="none">
                          <a href="plugins.html" title="Plugins">Plugins</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Team">Team</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Code Management">Source Code Management</a>
            </li>
                      <li class="none">
                          <a href="project-summary.html" title="Summary">Summary</a>
            </li>
              </ul>
        </li>
                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="SpeedTools_Java_Library"></a>SpeedTools Java Library</h2>
<h1>Introduction</h1>
<p><b>SpeedTools</b> is a collection of generic Java utilities which are specifically coded to be high-performance and very reliable. Most of the code has been 100% code reviewed.</p>
<p>The code was originally developed by Rijn Buve, Daan van Dijk and Ruud Diterwich for a commercial TomTom service and ran for with zero-downtime for months in a data center, serving hundreds of thousands of requests.</p>
<p>Feel free to use them in your project.</p>
<p>If you find bugs or wish to see improvements, please register them at: <a class="externalLink" href="https://github.com/tomtom-international/speedtools/issues">https://github.com/tomtom-international/speedtools/issues</a></p>
<p>Happy coding!</p>
<p><b>Rijn Buve</b></p>
<p>TomTom International BV</p>
<h1>License</h1>
<p>Copyright (C) 2012-2017. TomTom International BV (<a class="externalLink" href="http://tomtom.com)">http://tomtom.com)</a>.</p>
<p>Licensed under the Apache License, Version 2.0 (the &#x201c;License&#x201d;); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>

<div class="source">
<div class="source">
<pre>http://www.apache.org/licenses/LICENSE-2.0
</pre></div></div>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &#x201c;AS IS&#x201d; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<h1>Getting Started</h1>
<p>In this example we assume that <tt>SPEEDTOOLS-HOME</tt> is the <tt>speedtools</tt> directory in your source repository, so <tt>SPEEDTOOLS-HOME=.../speedtools</tt>.</p>
<p>To build the library:</p>

<div class="source">
<div class="source">
<pre>cd &lt;SPEEDTOOLS-HOME&gt;
mvn clean install
</pre></div></div>

<ul>
  
<li>REST API Example</li>
</ul>
<p>We&#x2019;ve included a REST API example in another project, called <tt>speedtools-examples</tt>. Please refer to that project to try out the SpeedTools library.</p>
<p>Here&#x2019;s a diagram of the scalability characteristics of the SpeedTools web services framework:</p>
<p>[Figure gatling-loadtest.png]</p>
<p>LBS, iOS/Android Push Notifications and SMS Services</p>
<p>The SpeedTools library offers easy-to-use interfaces to the following external services:</p>

<ul>
  
<li>
<p>LBS service like geocoding, mapping and routing,</p></li>
  
<li>
<p>Push notifications iOS/Android devices (requires registration at Apple and Google for test accounts),</p></li>
  
<li>
<p>SMS services (requires accounts at MessageBird and/or Nexmo).</p></li>
</ul>
<p>The library does not offer example sources of how to use the services (yet), but the modules do have unit tests, which provide a pretty clear idea of how to set up and use these service.</p></div>
<div class="section">
<h2><a name="SpeedTools_Packages"></a>SpeedTools Packages</h2>
<p><b>SpeedTools</b> consists of several modules:</p>

<ul>
  
<li>
<p><b>akka</b> which supports the use of Akka <tt>TypedActor</tt> more easily in Java;</p></li>
  
<li>
<p><b>apivalidation</b> with support for DTOs (data transfer objects ) in your API with support for specific API parameter validation (if you don&#x2019;t wish to use the JSR one);</p></li>
  
<li>
<p><b>core</b> which consists of a lot of handy classes and utilities for your main Java application, like buffers, checksum calculations, locale handling, time conversion and more;</p></li>
  
<li>
<p><b>geo</b> which contains a set of geometry (and geographical) classes, which work with any latitude and longitude, without glitches around the poles or Fiji;</p></li>
  
<li>
<p><b>guice</b> with extended support for Google Guice and property file handling;</p></li>
  
<li>
<p><b>json</b> with JSON reading/writing support, as well as a standard implementation for <tt>toString()</tt> which produces parseable log output;</p></li>
  
<li>
<p><b>lbs</b> which provides easy interfaces for external LBS services, like mapping, geocoding and routing;</p></li>
  
<li>
<p><b>metrics</b> with support for keeping runtime metrics (i.c.w. JMX) which can be used directly by tools like Jolokia;</p></li>
  
<li>
<p><b>mongodb</b> which contains MongoDB specific classes that will handle schema migration in MongoDB databases;</p></li>
  
<li>
<p><b>pushnotifications</b> which provides generic interfaces for the iOS APNS and Android GCM push notification services to send notifications to mobile phones;</p></li>
  
<li>
<p><b>rest</b> which consists of utilities to create reliable, scalable RestEasy REST APIs using the Akka framework to process incoming requests;</p></li>
  
<li>
<p><b>sms</b> which provides interfaces for SMS services, with implementations for MessageBird and Nexmo, to send text messages to mobile phones;</p></li>
  
<li>
<p><b>testutils</b> which contains utilities, like mocks, which make it easier to create Java unit tests;</p></li>
  
<li>
<p><b>tracer</b> which contains superfast &#x201c;event tracer&#x201d; system, plus an implementation based on MongoDB.</p></li>
</ul>
<p>You can find the JavaDoc documentation for <b>SpeedTools</b> on Github, at </p>
<div class="section">
<h3><a name="SpeedTools_Core_and_others_-_Core_and_generic_utility_classes"></a><b>SpeedTools Core</b> and others - Core and generic utility classes</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.apivalidation</tt></p>
<p>This package provides utility classes to take care of validating API parameters (e.g. for Web REST APIs). The API validation is provided in such a way that all parameters (from a POST, for example) can be validated at once and all validation errors can be returned as a JSON document to the client.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.buffer</tt></p>
<p>Provides an efficient circular buffer class.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.checksums</tt></p>
<p>Provides classes for SHA1 hashes and other types of checksums.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.cli</tt></p>
<p>A simple class to allow starting a &#x201c;main&#x201d; method in a WAR file from the command line. The fully qualified class name and method name can be specified on the command line.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.crypto</tt></p>
<p>Provides cryptographic utilities.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.domain</tt></p>
<p>A collection of often used domain object, such as colors, money and UIDs. The UID implementation is based on UUIDs but is highly efficient to avoid unnecessary creation of UUIDs while copying, validating etc.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.geometry</tt></p>
<p>This package provides a full set of well tested geometry primitives and functions. The classes are particulary well tested to work with all latitudes and longitudes and take care of &#x201c;wrapping around the Earth at lat 0&#x201d; into account.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.gpstrace</tt></p>
<p>Utilities for handling GPS trace points, when collected.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.guice</tt></p>
<p>All sorts of handy utilities for projects using Google Guice injection. These utilities make it totally trivial to use property files for configuration, for example.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.json</tt></p>
<p>A complete and efficient JSON (de)serializer which may be used instead of, for example, Jackson. We found Jackson as not able to serialize certain structures well. This serializer solves those problems. This module can also be effectively used to simply print <b>any</b> object as a JSON structure by calling <b>Json.toStringJson</b> in your <b>class.toString</b> method. Much simpler than writing your own <b>toString()</b> nethod and always complete.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.loghelper</tt></p>
<p>A simple way to make log files more readable by by attaching a name to an ID somewhere in your code. Whenever the ID is logged, its name will be printed as well. The amount of ID/name pairs stored is limited and configurable.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.maven</tt></p>
<p>A simple class to help you determine which POM version was used in this build.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.metrics</tt></p>
<p>This package provides a metrics collection system, which can, for example, be exposed bia JMX. Metrics can be anything the application wishes to store (API calls, successful/failed transactions, etc.). The collector takes care of creating metrics for the last minute, last hour, last day, etc.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.objects</tt></p>
<p>This package provides simple utilities for creating easy hashes of objects and using tuplets and triplets. It also provides some nice immutables utilities.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.ratelimiter</tt></p>
<p>If you need to execute tasks at a maximum rate to avoid choking your system, you can use the rate limiter.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.thread</tt></p>
<p>This contains an implementation of a WorkQueue which is highly efficient and allows many tasks to be scheduled in parallel. The original caller can wait for completion of all or individual tasks.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.tiledmap</tt></p>
<p>This package provides interfaces that you may wish to use in combination with tiled mapping services.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.time</tt></p>
<p>Using time is always a cause for issues if you&#x2019;re not sure about the time zone or DST. Always use this UTCTime class and you&#x2019;ll be fine.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.urls</tt></p>
<p>This package provides URL/URI handling utilities.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.utils</tt></p>
<p>Generic utilities to deal with certain data types. This also includes a couple of handy math and string utils.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.xmladapters</tt></p>
<p>XML adapters for projects that use Web REST APIs.</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_Akka_-_Akka_actors_related_utilities"></a><b>SpeedTools Akka</b> - Akka actors related utilities</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.akka</tt></p>
<p>This package provides utility classes to use TypedActors with Akka in Java. It also provides some generic Akka tools.</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_MongoDB_-_MongoDB_utilities"></a><b>SpeedTools MongoDB</b> - MongoDB utilities</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.mongodb</tt></p>
<p>If you&#x2019;re using MongoDB in your application, you will find this package extremely handy. It provides a simple and efficient way to describe MongoDB &#x201c;schema&#x201d; transformations in a small Java DSL.</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_REST_-_REST_API_and_web_services_utilities_and_framework"></a><b>SpeedTools REST</b> - REST API and web services utilities and framework</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.rest</tt></p>
<p>This package contains a number of utility classes that will help you write highly efficient and scalable REST API web services. Have a look at the source code in project <tt>speedtools-examples</tt> to see how to use the framework.</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_LBS_Services_-_Interfaces_to_TomTom_LBS_services"></a><b>SpeedTools LBS Services</b> - Interfaces to TomTom LBS services</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.services.geocode</tt></p>
<p>This package provides interfaces to (TomTom) geocoding services.</p></li>
  
<li>
<p><tt>com.tomtom.speedtools.services.route</tt></p>
<p>This package provides interfaces to (TomTom) routing services.</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_Push_Notification_Services_-_Interfaces_to_iOS_and_Android_push_notification_services"></a><b>SpeedTools Push Notification Services</b> - Interfaces to iOS and Android push notification services</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.services.push</tt></p>
<p>This package provides an generic interfaces to push notification servers from Apple (APNS) and Google (GCM).</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_SMS_Notification_Services_-_Interfaces_to_SMS_notification_services"></a><b>SpeedTools SMS Notification Services</b> - Interfaces to SMS notification services</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.services.sms</tt></p>
<p>This package provides an generic interfaces to SMS servers from MessageBird and Nexmo.</p></li>
</ul></div>
<div class="section">
<h3><a name="SpeedTools_Tracer_-_Application_event_tracing"></a><b>SpeedTools Tracer</b> - Application event tracing</h3>

<ul>
  
<li>
<p><tt>com.tomtom.speedtools.tracer</tt></p>
<p>This package provides a way to generate &#x201c;trace events&#x201d; from a system, which are asynchronously and rate-limited sent to a remote MongoDB database. These trace events can then be read from that database and serve as input for monitoring, reporting or real-time visualization.</p>
<p>The trace event system is set up in such a way that is can never interfere with the actual main system. So, if the trace database is down, or the link does not work, or too many traces occur, the trace event system will not take too many resources from you system, ever. The nice thing about these trace events is that they are fully type safe, because they are implemented as Java interfaces (instead of, for example, log strings). The interface calls are serialized (by our own JSON/MongoDB serializer) and sent to a MongoDB trace database.</p>
<p>The trace event consuming party only needs to implement the interface methods in order to automatically &#x201c;receive&#x201d; the traces when they occur. The trace event system on the consumer side will call the registered trace interface implemnentation real-time.</p></li>
</ul></div></div>
<div class="section">
<h2><a name="Using_SpeedTools_with_Maven_Projects"></a>Using SpeedTools with Maven Projects</h2>
<p>In order to use SpeedTools in a Maven project include the following dependencies:</p>

<div class="source">
<div class="source">
<pre>&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;core&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!-- If you need to build REST APIs: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;rest&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  If you need to use Akka: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;akka&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  If you need MongoDB: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;mongodb&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  If you need LBS services: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;lbs&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  If you need Push Notification services: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;pushnotifications&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  If you need SMS services: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;sms&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  Add this one to include a log4j.xml during unit tests (scope is only test): --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;testutils&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre></div></div>

<div class="source">
<div class="source">
<pre>&lt;!--  If you need the Tracer: --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;tracer&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>
<p>The second dependency is only required if you use the test utils (such as the constructor checker) in your own sources as well. The module <tt>speedtools-utils</tt> depends on it anyhow.</p></div>
<div class="section">
<h2><a name="Building_a_New_Release_of_SpeedTools"></a>Building a New Release of SpeedTools</h2>
<p>To create a release of SpeedTools, first make sure to:</p>

<ul>
  
<li>
<p>Update the release notes in <b>src/site/apt/ReleaseNotes.md</b>.</p></li>
  
<li>
<p>Update the release notes in <b>src/site/apt/Properties.md</b>.</p></li>
</ul>
<p>Then, execute the following steps:</p>

<ul>
  
<li>Make sure all files are commited to Git Stash. Then execute:</li>
</ul>

<div class="source">
<div class="source">
<pre>cd &lt;SPEEDTOOLS-HOME&gt;
mvn clean install
</pre></div></div>

<ul>
  
<li>Correct any errors and commit to GitHub. Then:</li>
</ul>

<div class="source">
<div class="source">
<pre>mvn clean site:site
</pre></div></div>

<ul>
  
<li>Again, correct any errors and commit to GitHub. Then:</li>
</ul>

<div class="source">
<div class="source">
<pre>mvn clean versions:set -DnewVersion=x.y.z
git commit -a -m &quot;Updated POM version for release&quot;
git tag &quot;vx.y.z&quot;
git push origin master --tags
</pre></div></div>

<ul>
  
<li>And deploy:</li>
</ul>

<div class="source">
<div class="source">
<pre>mvn clean deploy
</pre></div></div>

<ul>
  
<li>And release to Maven (use <tt>drop</tt> instead of <tt>release</tt> to abort):</li>
</ul>

<div class="source">
<div class="source">
<pre>mvn nexus-staging:release
</pre></div></div>

<ul>
  
<li>Don&#x2019;t forget to update the <tt>ReleaseNotes.apt.vm</tt> file for the next version and commit any local changes back to Subversion, after the release.</li>
</ul>
<h1>Release Notes and Information</h1>
<p>Please find the links to the Release Notes here:</p>
<p><a class="externalLink" href="http://tomtom-international.github.io/speedtools/ReleaseNotes.html">http://tomtom-international.github.io/speedtools/ReleaseNotes.html</a></p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2017
                        <a href="http://tomtom.com">TomTom International BV</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
