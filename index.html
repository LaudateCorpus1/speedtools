<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Mar 11, 2016 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>SpeedTools Java Library</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20160311" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                SpeedTools
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2016-03-11</span>
                  &nbsp;| <span id="projectVersion">Version: 3.0.15</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>SpeedTools Project</h5>
                  <ul>
                  <li class="none">
            <strong>Home</strong>
          </li>
                  <li class="none">
                          <a href="ReleaseNotes.html" title="Release Notes">Release Notes</a>
            </li>
                  <li class="none">
                          <a href="Properties.html" title="Property Files">Property Files</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                    <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
                          <a href="dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a>
            </li>
                      <li class="none">
                          <a href="dependency-info.html" title="Dependency Information">Dependency Information</a>
            </li>
                      <li class="none">
                          <a href="dependency-management.html" title="Dependency Management">Dependency Management</a>
            </li>
                      <li class="none">
                          <a href="distribution-management.html" title="Distribution Management">Distribution Management</a>
            </li>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="license.html" title="Project License">Project License</a>
            </li>
                      <li class="none">
                          <a href="modules.html" title="Project Modules">Project Modules</a>
            </li>
                      <li class="none">
                          <a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
            </li>
                      <li class="none">
                          <a href="plugins.html" title="Project Plugins">Project Plugins</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Project Team">Project Team</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
                      <li class="none">
                          <a href="project-summary.html" title="Project Summary">Project Summary</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Introduction<a name="Introduction"></a></h2><p><b>SpeedTools</b> is a collection of generic Java utilities which are specifically coded to be high-performance and very reliable. Most of the code has been 100% code reviewed and has great test coverage.</p><p>The code was originally developed by Rijn Buve, Daan van Dijk and Ruud Diterwich for a commercial TomTom service and ran for with zero-downtime for months in a data center, serving hundreds of thousands of requests.</p><p>Feel free to use them in your project.</p><p>If you find bugs or wish to see improvements, please register them at: <a class="externalLink" href="https://github.com/tomtom-international/speedtools/issues"></a></p><p>Happy coding!</p><p><i>Rijn Buve, TomTom International BV</i></p></div><div class="section"><h2>License<a name="License"></a></h2><p>Copyright (C) 2012-2016. TomTom International BV (http://tomtom.com).</p><p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p><p>http://www.apache.org/licenses/LICENSE-2.0</p><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p></div><div class="section"><h2>Getting Started<a name="Getting_Started"></a></h2><p>In this example we assume that <tt>SPEEDTOOLS-HOME</tt> is the <tt>speedtools</tt> directory in your source repository, so <tt>SPEEDTOOLS-HOME=.../speedtools</tt>.</p><p>To build the library:</p><div><pre>cd &lt;SPEEDTOOLS-HOME&gt;
mvn clean install</pre></div></div><div class="section"><h2>REST API Example<a name="REST_API_Example"></a></h2><p>We've included a REST API example in another project, called <tt>speedtools-examples</tt>. Please refer to that project to try out the SpeedTools library.</p><p>Here's a diagram of the scalability characteristics of the SpeedTools web services framework:</p><dl><dt>Figure gatling-loadtest.png</dt><dd></dd></dl></div><div class="section"><h2>LBS, iOS/Android Push Notifications and SMS Services<a name="LBS_iOSAndroid_Push_Notifications_and_SMS_Services"></a></h2><p>The SpeedTools library offers easy-to-use interfaces to the following external services:</p><ul><li>LBS service like geocoding, mapping and routing,</li><li>Push notifications iOS/Android devices (requires registration at Apple and Google for test accounts),</li><li>SMS services (requires accounts at MessageBird and/or Nexmo).</li></ul><p>The library does not offer example sources of how to use the services (yet), but the modules do have unit tests, which provide a pretty clear idea of how to set up and use these service.</p></div><div class="section"><h2>SpeedTools Packages<a name="SpeedTools_Packages"></a></h2><p><b>SpeedTools</b> consists of several modules:</p><ul><li><b>apivalidation</b> which support for API parameter validation (if you don't wish to use the JSR one)</li><li><b>core</b> which consists of a lot of handy classes and utilities for your main Java application,</li><li><b>geo</b> which contains a set of geometry (and geographical) classes,</li><li><b>guice</b> with extended support for Google Guice and property file handling,</li><li><b>json</b> with JSON reading/writing support, as well as an excellent standard implementation for toString(),</li><li><b>lbs</b> which provides easy interfaces for (TomTom) LBS services, like mapping, geocoding and routing,</li><li><b>metric</b> with support for keeping runtime metrics (i.c.w. JMX),</li><li><b>mongodb</b> which contains MongoDB specific classes that will handle easy schema migration in MongoDB databases and a superfast &quot;event tracer&quot; system, based on MongoDB, and</li><li><b>pushnotifications]</b> which provides generic interfaces for iOS APNS and Android GCM push notification services,</li><li><b>rest</b> which consists utilities to create RestEasy REST APIs,</li><li><b>sms</b> which provides interfaces for SMS services, with implementations for MessageBird and Nexmo,</li><li><b>testutils</b> which consists of some utilities which are to be used for Java unit tests only.</li></ul><p>You can find the JavaDoc documentation for <b>SpeedTools</b> on Github.</p><p><b>SpeedTools Core</b> and others - Core and generic utility classes</p><ul><li><tt>com.tomtom.speedtools.apivalidation</tt><p>This package provides utility classes to take care of validating API parameters (e.g. for Web REST APIs). The API validation is provided in such a way that all parameters (from a POST, for example) can be validated at once and all validation errors can be returned as a JSON document to the client.</p></li><li><tt>com.tomtom.speedtools.buffer</tt><p>Provides an efficient circular buffer class.</p></li><li><tt>com.tomtom.speedtools.checksums</tt><p>Provides classes for SHA1 hashes and other types of checksums.</p></li><li><tt>com.tomtom.speedtools.cli</tt><p>A simple class to allow starting a &quot;main&quot; method in a WAR file from the command line. The fully qualified class name and method name can be specified on the command line.</p></li><li><tt>com.tomtom.speedtools.crypto</tt><p>Provides cryptographic utilities.</p></li><li><tt>com.tomtom.speedtools.domain</tt><p>A collection of often used domain object, such as colors, money and UIDs. The UID implementation is based on UUIDs but is highly efficient to avoid unnecessary creation of UUIDs while copying, validating etc.</p></li><li><tt>com.tomtom.speedtools.geometry</tt><p>This package provides a full set of well tested geometry primitives and functions. The classes are particulary well tested to work with all latitudes and longitudes and take care of &quot;wrapping around the Earth at lat 0&quot; into account.</p></li><li><tt>com.tomtom.speedtools.gpstrace</tt><p>Utilities for handling GPS trace points, when collected.</p></li><li><tt>com.tomtom.speedtools.guice</tt><p>All sorts of handy utilities for projects using Google Guice injection. These utilities make it totally trivial to use property files for configuration, for example.</p></li><li><tt>com.tomtom.speedtools.json</tt><p>A complete and efficient JSON (de)serializer which may be used instead of, for example, Jackson. We found Jackson as not able to serialize certain structures well. This serializer solves those problems. This module can also be effectively used to simply print <b>any</b> object as a JSON structure by calling <b>Json.toStringJson</b> in your <b>class.toString</b> method. Much simpler than writing your own <b>toString()</b> nethod and always complete.</p></li><li><tt>com.tomtom.speedtools.loghelper</tt><p>A simple way to make log files more readable by by attaching a name to an ID somewhere in your code. Whenever the ID is logged, its name will be printed as well. The amount of ID/name pairs stored is limited and configurable.</p></li><li><tt>com.tomtom.speedtools.maven</tt><p>A simple class to help you determine which POM version was used in this build.</p></li><li><tt>com.tomtom.speedtools.metrics</tt><p>This package provides a metrics collection system, which can, for example, be exposed bia JMX. Metrics can be anything the application wishes to store (API calls, successful/failed transactions, etc.). The collector takes care of creating metrics for the last minute, last hour, last day, etc.</p></li><li><tt>com.tomtom.speedtools.objects</tt><p>This package provides simple utilities for creating easy hashes of objects and using tuplets and triplets. It also provides some nice immutables utilities.</p></li><li><tt>com.tomtom.speedtools.ratelimiter</tt><p>If you need to execute tasks at a maximum rate to avoid choking your system, you can use the rate limiter.</p></li><li><tt>com.tomtom.speedtools.thread</tt><p>This contains an implementation of a WorkQueue which is highly efficient and allows many tasks to be scheduled in parallel. The original caller can wait for completion of all or individual tasks.</p></li><li><tt>com.tomtom.speedtools.tiledmap</tt><p>This package provides interfaces that you may wish to use in combination with tiled mapping services.</p></li><li><tt>com.tomtom.speedtools.time</tt><p>Using time is always a cause for issues if you're not sure about the time zone or DST. Always use this UTCTime class and you'll be fine.</p></li><li><tt>com.tomtom.speedtools.urls</tt><p>This package provides URL/URI handling utilities.</p></li><li><tt>com.tomtom.speedtools.utils</tt><p>Generic utilities to deal with certain data types. This also includes a couple of handy math and string utils.</p></li><li><tt>com.tomtom.speedtools.xmladapters</tt><p>XML adapters for projects that use Web REST APIs.</p></li></ul><p><b>SpeedTools Akka</b> - Akka actors related utilities</p><ul><li><tt>com.tomtom.speedtools.akka</tt><p>This package provides utility classes to use TypedActors with Akka in Java. It also provides some generic Akka tools.</p></li></ul><p><b>SpeedTools MongoDB</b> - MongoDB utilities</p><ul><li><tt>com.tomtom.speedtools.mongodb</tt><p>If you're using MongoDB in your application, you will find this package extremely handy. It provides a simple and efficient way to describe MongoDB &quot;schema&quot; transformations in a small Java DSL.</p></li><li><tt>com.tomtom.speedtools.tracer</tt><p>This package provides a way to generate &quot;trace events&quot; from a system, which are asynchronously and rate-limited sent to a remote MongoDB database. These trace events can then be read from that database and serve as input for monitoring, reporting or real-time visualization.</p><p>The trace event system is set up in such a way that is can never interfere with the actual main system. So, if the trace database is down, or the link does not work, or too many traces occur, the trace event system will not take too many resources from you system, ever. The nice thing about these trace events is that they are fully type safe, because they are implemented as Java interfaces (instead of, for example, log strings). The interface calls are serialized (by our own JSON/MongoDB serializer) and sent to a MongoDB trace database.</p><p>The trace event consuming party only needs to implement the interface methods in order to automatically &quot;receive&quot; the traces when they occur. The trace event system on the consumer side will call the registered trace interface implemnentation real-time.</p></li></ul><p><b>SpeedTools REST</b> - REST API and web services utilities and framework</p><ul><li><tt>com.tomtom.speedtools.rest</tt><p>This package contains a number of utility classes that will help you write highly efficient and scalable REST API web services. Have a look at the source code in project <tt>speedtools-examples</tt> to see how to use the framework.</p></li></ul><p><b>SpeedTools LBS Services</b> - Interfaces to TomTom LBS services</p><ul><li><tt>com.tomtom.speedtools.services.geocode</tt><p>This package provides interfaces to (TomTom) geocoding services.</p></li><li><tt>com.tomtom.speedtools.services.route</tt><p>This package provides interfaces to (TomTom) routing services.</p></li></ul><p><b>SpeedTools Push Notification Services</b> - Interfaces to iOS and Android push notification services</p><ul><li><tt>com.tomtom.speedtools.services.push</tt><p>This package provides an generic interfaces to push notification servers from Apple (APNS) and Google (GCM).</p></li></ul><p><b>SpeedTools SMS Notification Services</b> - Interfaces to SMS notification services</p><ul><li><tt>com.tomtom.speedtools.services.sms</tt><p>This package provides an generic interfaces to SMS servers from MessageBird and Nexmo.</p></li></ul></div><div class="section"><h2>Using SpeedTools with Maven Projects<a name="Using_SpeedTools_with_Maven_Projects"></a></h2><p>In order to use SpeedTools in a Maven project include the following dependencies:</p><div><pre>&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;core&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// If you need to build REST APIs:
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;rest&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// If you need to use Akka:
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;akka&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// If you need MongoDB or the Tracer:
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;mongodb&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// If you need LBS services:
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;lbs&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// If you need Push Notification services:
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;pushnotifications&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// If you need SMS services:
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;sms&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
&lt;/dependency&gt;

// Add this one to include a log4j.xml during unit tests (scope is only test):
&lt;dependency&gt;
    &lt;groupId&gt;com.tomtom.speedtools&lt;/groupId&gt;
    &lt;artifactId&gt;testutils&lt;/artifactId&gt;
    &lt;version&gt;3.0.15&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><p>The second dependency is only required if you use the test utils (such as the constructor checker) in your own sources as well. The module <tt>speedtools-utils</tt> depends on it anyhow.</p></div><div class="section"><h2>Building a New Release of SpeedTools<a name="Building_a_New_Release_of_SpeedTools"></a></h2><p>To create a release of SpeedTools, first make sure to:</p><ul><li>Update the release notes in <b>src/site/apt/ReleaseNotes.apt.vm</b>.</li><li>Update the release notes in <b>src/site/apt/Properties.apt.vm</b>.<p>Then, execute the following steps:</p></li><li>Make sure all files are commited to Git Stash. Then execute:<div><pre>cd &lt;SPEEDTOOLS-HOME&gt;
mvn clean install</pre></div></li><li>Correct any errors and commit to GitHub. Then:<div><pre>mvn clean site:site</pre></div></li><li>Again, correct any errors and commit to GitHub. Then:<div><pre>mvn clean versions:set -DnewVersion=x.y.z
git commit -a -m &quot;Updated POM version for release&quot;
git tag &quot;vx.y.z&quot;
git push origin master --tags</pre></div></li><li>And deploy:<div><pre>mvn clean deploy</pre></div></li><li>And release to Maven (use `drop` instead of `release` to abort):<div><pre>mvn nexus-staging:release</pre></div></li><li>Don't forget to update the <tt>ReleaseNotes.apt.vm</tt> file for the next version and commit any local changes back to Subversion, after the release.</li></ul></div><div class="section"><h2>Important Release Information<a name="Important_Release_Information"></a></h2><p>Please find the links to the Release Notes below.</p><ul><li><b><a href="./ReleaseNotes.html">Release Notes</a></b></li></ul></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2016
                        <a href="http://tomtom.com">TomTom International BV</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
